<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ö–æ–ø–∏–ª–∫–∞ –±—É–¥—É—â–µ–≥–æ –î–∞—Ä–∏–Ω—ã</title>
  <meta name="description" content="–ü–æ–¥–∞—Ä–∫–∏ ‚Üí –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏. –ö–æ–ø–∏–º –¥–æ 18 –ª–µ—Ç: BTC, ETH –∏ YDEX." />
  <style>
    :root{
      --bg1:#0b0b22;
      --bg2:#120b2d;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.06);
      --line: rgba(255,255,255,.14);
      --text:#f6f3ff;
      --muted: rgba(246,243,255,.78);
      --accent:#b77bff;
      --accent2:#5ad8ff;
      --good:#31e6a7;
      --bad:#ff5b8f;
      --shadow: 0 18px 50px rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      background:
        radial-gradient(900px 520px at 18% 8%, rgba(183,123,255,.35), transparent 60%),
        radial-gradient(780px 520px at 82% 18%, rgba(90,216,255,.25), transparent 60%),
        radial-gradient(1200px 900px at 50% 120%, rgba(255,91,143,.10), transparent 62%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    .wrap{ max-width:980px; margin:0 auto; padding:26px 16px 64px; }

    .stars{
      position:fixed; inset:0; pointer-events:none; opacity:.55;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.9) 40%, transparent 45%),
        radial-gradient(2px 2px at 35% 70%, rgba(255,255,255,.8) 40%, transparent 45%),
        radial-gradient(1.5px 1.5px at 72% 24%, rgba(255,255,255,.85) 40%, transparent 45%),
        radial-gradient(2px 2px at 88% 66%, rgba(255,255,255,.75) 40%, transparent 45%),
        radial-gradient(1.5px 1.5px at 56% 44%, rgba(255,255,255,.65) 40%, transparent 45%),
        radial-gradient(1.5px 1.5px at 22% 48%, rgba(255,255,255,.7) 40%, transparent 45%);
      filter: blur(.1px);
      animation: twinkle 6s ease-in-out infinite alternate;
    }
    @keyframes twinkle { from{opacity:.35} to{opacity:.7} }

    header{
      display:flex; gap:14px; justify-content:space-between; align-items:flex-start; flex-wrap:wrap;
      margin-bottom:14px;
    }
    .hero{ display:flex; gap:14px; align-items:flex-start; }

    .mascot{
      width:62px; height:62px; border-radius:18px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(255,255,255,.6), transparent 60%),
        linear-gradient(135deg, rgba(90,216,255,.55), rgba(183,123,255,.55));
      border:1px solid rgba(255,255,255,.18);
      box-shadow: var(--shadow);
      display:grid; place-items:center;
      overflow:hidden;
    }
    .mascot svg{ width:48px; height:48px; opacity:.95; }

    .title h1{ margin:0; font-size:28px; letter-spacing:.2px; }
    .title .sub{ margin-top:6px; color:var(--muted); line-height:1.45; max-width:720px; }

    .pill{
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 26px rgba(0,0,0,.25);
      font-size:13px;
      color:var(--muted);
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
    }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: linear-gradient(90deg, var(--accent2), var(--accent));
      box-shadow: 0 0 18px rgba(183,123,255,.65);
    }

    .grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:14px; margin-top:14px; }
    .card{
      grid-column:span 12;
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--line);
      border-radius:20px;
      padding:16px 16px 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }
    .card h2{ margin:0 0 8px; font-size:16px; }
    .card p{ margin:0 0 10px; color:var(--muted); line-height:1.55; }
    @media (min-width:760px){ .half{ grid-column:span 6; } }

    .chips{ display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .chip{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      font-size:12px;
      color:var(--text);
    }

    .stats{ display:grid; grid-template-columns:repeat(12,1fr); gap:12px; margin-top:6px; }
    .stat{
      grid-column:span 12;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
    }
    @media (min-width:760px){ .stat{ grid-column:span 4; } }
    .k{ color:var(--muted); font-size:12px; margin-bottom:4px; }
    .v{ font-size:18px; font-weight:800; letter-spacing:.2px; }
    .delta.good{ color:var(--good); }
    .delta.bad{ color:var(--bad); }

    .btns{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    button{
      cursor:pointer;
      border-radius:14px;
      padding:10px 12px;
      border:1px solid rgba(183,123,255,.40);
      background: rgba(183,123,255,.14);
      color:var(--text);
      font-weight:700;
    }
    button:hover{ background: rgba(183,123,255,.22); }

    .note{
      margin-top:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px dashed rgba(255,255,255,.22);
      background: rgba(0,0,0,.14);
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
    }

    table{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      overflow:hidden;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      margin-top:10px;
    }
    th,td{
      padding:10px 10px;
      border-bottom:1px solid rgba(255,255,255,.10);
      font-size:13px;
    }
    th{
      color:var(--muted);
      text-align:left;
      font-weight:700;
      background: rgba(255,255,255,.05);
    }
    tr:last-child td{ border-bottom:none; }
    td.num{ text-align:right; font-variant-numeric: tabular-nums; }

    .footer{ margin-top:16px; color:var(--muted); font-size:12px; line-height:1.5; }
  </style>
</head>

<body>
  <div class="stars"></div>
  <div class="wrap">
    <header>
      <div class="hero">
        <div class="mascot" aria-hidden="true">
          <svg viewBox="0 0 64 64" fill="none">
            <path d="M32 55c13 0 23-9.4 23-22.2C55 19 44.7 9 32 9S9 19 9 32.8C9 45.6 19 55 32 55Z" fill="rgba(0,0,0,.18)" />
            <path d="M21 28c2.5-5 7-8 11-8s8.5 3 11 8" stroke="rgba(255,255,255,.70)" stroke-width="3" stroke-linecap="round"/>
            <path d="M20 16c-2 2-3 5-2 8" stroke="rgba(255,255,255,.55)" stroke-width="3" stroke-linecap="round"/>
            <path d="M44 16c2 2 3 5 2 8" stroke="rgba(255,255,255,.55)" stroke-width="3" stroke-linecap="round"/>
            <circle cx="25.5" cy="33.5" r="4.2" fill="rgba(255,255,255,.92)"/>
            <circle cx="38.5" cy="33.5" r="4.2" fill="rgba(255,255,255,.92)"/>
            <circle cx="27" cy="34.5" r="1.6" fill="rgba(0,0,0,.55)"/>
            <circle cx="40" cy="34.5" r="1.6" fill="rgba(0,0,0,.55)"/>
            <path d="M28 44c2 2 6 2 8 0" stroke="rgba(255,255,255,.75)" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="title">
          <h1>–ö–æ–ø–∏–ª–∫–∞ –±—É–¥—É—â–µ–≥–æ –î–∞—Ä–∏–Ω—ã ‚ú®</h1>
          <div class="sub">
            –î–∞—Ä–∏–Ω–∞, –ø—Ä–∏–≤–µ—Ç! –° —ç—Ç–æ–≥–æ –¥–Ω—è –º–æ–∏ –ø–æ–¥–∞—Ä–∫–∏ ‚Äî —ç—Ç–æ <b>–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Ç–≤–æ—ë –±—É–¥—É—â–µ–µ</b>.
            –ú—ã –±—É–¥–µ–º –∫–æ–ø–∏—Ç—å –¥–æ —Ç–≤–æ–∏—Ö 18 –ª–µ—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö –∏ —É—á–∏—Ç—å—Å—è –≤–º–µ—Å—Ç–µ:
            —Å–º–æ—Ç—Ä–µ—Ç—å —Ä–æ—Å—Ç, —Å–ø–∞–¥—ã –∏ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Ä–µ–º—è.
          </div>
        </div>
      </div>

      <div class="pill" title="–¶–µ–Ω—ã: BTC/ETH ‚Äî CoinGecko, YDEX ‚Äî MOEX">
        <span class="dot"></span>
        <span><b>–¶–µ–Ω—ã:</b> BTC / ETH / YDEX</span>
        <span id="lastUpdate">–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ‚Ä¶</span>
      </div>
    </header>

    <div class="grid">
      <section class="card half">
        <h2>–ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—à–µ–≥–æ ¬´–∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ —Å—É–Ω–¥—É–∫–∞¬ª üå∫üöÄ</h2>
        <p>
          –ö–∞–∂–¥—ã–π –≥–æ–¥ –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ —è –∏–Ω–≤–µ—Å—Ç–∏—Ä—É—é <b>100‚Ç¨</b>.
          –ò–Ω–æ–≥–¥–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏, –∏–Ω–æ–≥–¥–∞ –ø–∞–¥–∞—Ç—å ‚Äî –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
          –ú—ã –Ω–µ –∏–≥—Ä–∞–µ–º –≤ ¬´–±—ã—Å—Ç—Ä—ã–µ –¥–µ–Ω—å–≥–∏¬ª, –º—ã –≤—ã—Ä–∞—â–∏–≤–∞–µ–º <b>–¥–æ–ª–≥—É—é —Å–≤–æ–±–æ–¥—É</b>.
        </p>
        <div class="chips">
          <span class="chip">üéÑ –ù–æ–≤—ã–π –≥–æ–¥ ‚Äî 100‚Ç¨</span>
          <span class="chip">üå∑ 8 –º–∞—Ä—Ç–∞ ‚Äî 100‚Ç¨</span>
          <span class="chip">üéÇ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è ‚Äî 100‚Ç¨</span>
          <span class="chip">üìà –†–∞–∑ –≤ –≥–æ–¥ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º</span>
        </div>
        <div class="note">
          –í–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –∫–æ–≥–¥–∞ —Ä—ã–Ω–æ–∫ –ø–∞–¥–∞–µ—Ç ‚Äî –º—ã –Ω–µ –ø–∞–Ω–∏–∫—É–µ–º.
          –ú—ã –Ω–∞–±–ª—é–¥–∞–µ–º –∏ —É—á–∏–º—Å—è —Ç–µ—Ä–ø–µ–Ω–∏—é üíú
        </div>
      </section>

      <section class="card half">
        <h2>–ü–µ—Ä–≤—ã–π –≤–∑–Ω–æ—Å</h2>
        <p>
          <b>31.12.2025</b> —è –Ω–∞—á–∞–ª–∞ —Ç–≤–æ—é –∫–æ–ø–∏–ª–∫—É: <b>100‚Ç¨</b> (—ç—Ç–æ <b>9‚ÄØ280 ‚ÇΩ</b>).
          –ù–∞ –Ω–∏—Ö —è –∫—É–ø–∏–ª–∞ <b>1 –∞–∫—Ü–∏—é –Ø–Ω–¥–µ–∫—Å (YDEX) ‚Äî 4‚ÄØ567 ‚ÇΩ</b>,
          –∏ —Å–æ–≤—Å–µ–º —á—É—Ç—å-—á—É—Ç—å –∫—Ä–∏–ø—Ç–æ–º–æ–Ω–µ—Ç: <b>ETH ‚Äî 0,01</b> –∏ <b>BTC ‚Äî 0,00034</b>.
        </p>

        <div class="stats">
          <div class="stat">
            <div class="k">–í—Å–µ–≥–æ –≤–ª–æ–∂–µ–Ω–æ</div>
            <div class="v" id="investedTotal">‚Äî</div>
          </div>
          <div class="stat">
            <div class="k">–¢–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
            <div class="v" id="currentTotal">‚Äî</div>
          </div>
          <div class="stat">
            <div class="k">–ò–∑–º–µ–Ω–µ–Ω–∏–µ</div>
            <div class="v" id="deltaTotal">‚Äî</div>
          </div>
        </div>

        <div class="btns">
          <button id="refreshBtn">–û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã</button>
          <button id="toggleCurrencyBtn" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–∞–ª—é—Ç—É">–í–∞–ª—é—Ç–∞: EUR</button>
        </div>

        <div class="note">
          –í —Ä–µ–∂–∏–º–µ RUB –≤—Å—ë —Å—á–∏—Ç–∞–µ—Ç—Å—è ‚Äú–∫–∞–∫ –µ—Å—Ç—å‚Äù –≤ —Ä—É–±–ª—è—Ö.
          –í EUR/USD —Ü–µ–Ω–∞ YDEX –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –ø–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫—É—Ä—Å—É: 100‚Ç¨ = 9‚ÄØ280 ‚ÇΩ.
        </div>
      </section>

      <section class="card">
        <h2>–ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å —Å–µ–π—á–∞—Å üìí</h2>
        <p>
          –ó–¥–µ—Å—å –≤–∏–¥–Ω–æ: —á—Ç–æ –∫—É–ø–ª–µ–Ω–æ, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç <b>—Å–µ–≥–æ–¥–Ω—è</b>, –∏ –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –æ–±—â–∞—è —Å—É–º–º–∞.
        </p>

        <table aria-label="–ü–æ—Ä—Ç—Ñ–µ–ª—å">
          <thead>
            <tr>
              <th>–î–∞—Ç–∞</th>
              <th>–ü–æ–≤–æ–¥</th>
              <th>–ê–∫—Ç–∏–≤</th>
              <th class="num">–ö–æ–ª-–≤–æ</th>
              <th class="num">–ü–æ–∫—É–ø–∫–∞</th>
              <th class="num">–°–µ–≥–æ–¥–Ω—è</th>
            </tr>
          </thead>
          <tbody id="rows">
            <tr><td colspan="6" style="color:rgba(246,243,255,.78);font-size:12px;">–∑–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr>
          </tbody>
        </table>

        <div class="footer">
          –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ü–µ–Ω: BTC/ETH ‚Äî CoinGecko, YDEX ‚Äî –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞ (MOEX).
        </div>
      </section>
    </div>
  </div>

  <script>
    // 100‚Ç¨ = 9280‚ÇΩ –Ω–∞ 31.12.2025 (—Ñ–∏–∫—Å–∏—Ä—É–µ–º –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ YDEX -> EUR/USD)
    const EUR_TO_RUB_FIXED = 92.8;
    const EUR_TO_USD_APPROX = 1.1; // –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Ç–æ—á–Ω–µ–µ ‚Äî –¥–æ–±–∞–≤–ª—é FX API)

    const holdings = [
      { date: "2025-12-31", occasion: "üéÑ –ù–æ–≤—ã–π –≥–æ–¥", asset: "YDEX", amount: 1, buyCostRUB: 4567 },
      { date: "2025-12-31", occasion: "üéÑ –ù–æ–≤—ã–π –≥–æ–¥", asset: "ETH",  amount: 0.01, buyCostRUB: 2356 },
      { date: "2025-12-31", occasion: "üéÑ –ù–æ–≤—ã–π –≥–æ–¥", asset: "BTC",  amount: 0.00034, buyCostRUB: 2357 }
    ];

    const investedEvent = { eur: 100, rub: 9280 };

    const CURRENCIES = ["eur", "usd", "rub"];
    let displayCurrency = "eur";

    const currencySymbol = c => (c === "eur" ? "‚Ç¨" : c === "usd" ? "$" : "‚ÇΩ");

    function fmtMoney(n, currency){
      if (!Number.isFinite(n)) return "‚Äî";
      const maxFD = currency === "rub" ? 0 : 2;
      return `${n.toLocaleString("ru-RU", { maximumFractionDigits: maxFD })} ${currencySymbol(currency)}`;
    }
    function fmtNum(n, digits=8){
      if (!Number.isFinite(n)) return "‚Äî";
      return n.toLocaleString("ru-RU", { maximumFractionDigits: digits });
    }

    async function fetchCryptoPrices(currency) {
      const url = new URL("https://api.coingecko.com/api/v3/simple/price");
      url.searchParams.set("ids", "bitcoin,ethereum");
      url.searchParams.set("vs_currencies", currency);
      const r = await fetch(url.toString(), { method:"GET" });
      if (!r.ok) throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã –∫—Ä–∏–ø—Ç—ã: " + r.status);
      const data = await r.json();
      return { BTC: data.bitcoin[currency], ETH: data.ethereum[currency] };
    }

    async function fetchYdexLastRUB() {
      const url = "https://iss.moex.com/iss/engines/stock/markets/shares/securities/YDEX.json?iss.meta=off&iss.only=marketdata&marketdata.columns=LAST";
      const r = await fetch(url, { method:"GET" });
      if (!r.ok) throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É YDEX: " + r.status);
      const data = await r.json();
      const rows = data?.marketdata?.data || [];
      // Find first non-null value in rows
      let last = null;
      for (const row of rows) {
        if (Number.isFinite(row[0])) {
          last = row[0];
          break;
        }
      }
      if (!Number.isFinite(last)) throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å LAST –¥–ª—è YDEX");
      return last;
    }

    function rubToCurrency(rub, currency){
      if (!Number.isFinite(rub)) return NaN;
      if (currency === "rub") return rub;
      const eur = rub / EUR_TO_RUB_FIXED;
      if (currency === "eur") return eur;
      return eur * EUR_TO_USD_APPROX;
    }

    function investedTotalInCurrency(currency){
      if (currency === "rub") return investedEvent.rub;
      if (currency === "eur") return investedEvent.eur;
      return investedEvent.eur * EUR_TO_USD_APPROX;
    }

    function buildTable(prices){
      const tbody = document.getElementById("rows");
      tbody.innerHTML = "";
      let currentTotal = 0;

      for (const h of holdings){
        let nowValue = 0;

        if (h.asset === "BTC" || h.asset === "ETH"){
          const p = prices[h.asset];
          nowValue = (Number(h.amount)||0) * (Number(p)||0);
        } else if (h.asset === "YDEX"){
          const rubValue = (Number(h.amount)||0) * (Number(prices.YDEX_RUB)||0);
          nowValue = rubToCurrency(rubValue, displayCurrency);
        }

        currentTotal += nowValue;

        let buyCost = "‚Äî";
        if (Number.isFinite(h.buyCostRUB)){
          buyCost = fmtMoney(rubToCurrency(h.buyCostRUB, displayCurrency), displayCurrency);
        }

        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${h.date}</td>
          <td>${h.occasion}</td>
          <td>${h.asset}</td>
          <td class="num">${fmtNum(Number(h.amount)||0, 8)}</td>
          <td class="num">${buyCost}</td>
          <td class="num">${fmtMoney(nowValue, displayCurrency)}</td>
        `;
        tbody.appendChild(tr);
      }

      return currentTotal;
    }

    function setSummary(invested, current){
      document.getElementById("investedTotal").textContent = fmtMoney(invested, displayCurrency);
      document.getElementById("currentTotal").textContent = fmtMoney(current, displayCurrency);

      const delta = current - invested;
      const pct = invested > 0 ? (delta / invested) * 100 : 0;

      const el = document.getElementById("deltaTotal");
      const cls = delta >= 0 ? "good" : "bad";
      el.innerHTML = `<span class="delta ${cls}">${fmtMoney(delta, displayCurrency)} (${pct.toLocaleString("ru-RU",{maximumFractionDigits:2})}%)</span>`;
    }

    function setLastUpdate(text){ document.getElementById("lastUpdate").textContent = text; }

    async function refresh(){
      try{
        setLastUpdate("–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ‚Ä¶");

        const crypto = await fetchCryptoPrices(displayCurrency);
        const ydexRub = await fetchYdexLastRUB();

        const prices = { BTC: crypto.BTC, ETH: crypto.ETH, YDEX_RUB: ydexRub };

        const invested = investedTotalInCurrency(displayCurrency);
        const current = buildTable(prices);
        setSummary(invested, current);

        const t = new Date();
        setLastUpdate("–æ–±–Ω–æ–≤–ª–µ–Ω–æ: " + t.toLocaleString("ru-RU"));
      }catch(e){
        setLastUpdate("–æ—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è");
        const tbody = document.getElementById("rows");
        tbody.innerHTML = `<tr><td colspan="6" style="color:rgba(246,243,255,.78);font-size:12px;">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ü–µ–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ.</td></tr>`;
        console.error(e);
      }
    }

    document.getElementById("refreshBtn").addEventListener("click", refresh);

    document.getElementById("toggleCurrencyBtn").addEventListener("click", async () => {
      const idx = CURRENCIES.indexOf(displayCurrency);
      displayCurrency = CURRENCIES[(idx + 1) % CURRENCIES.length];
      document.getElementById("toggleCurrencyBtn").textContent =
        "–í–∞–ª—é—Ç–∞: " + (displayCurrency === "eur" ? "EUR" : displayCurrency === "usd" ? "USD" : "RUB");
      await refresh();
    });

    document.getElementById("toggleCurrencyBtn").textContent = "–í–∞–ª—é—Ç–∞: EUR";
    refresh();
  </script>
</body>
</html>
